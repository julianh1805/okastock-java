<div *ngIf="isLoading" class="isloading text-center mt-4">
  <app-loading-spinner></app-loading-spinner>
</div>
<div *ngIf="!isLoading" class="container users my-4">
  <section class="business">
    <div class="row">
      <div class="col-12 col-md-4">
        <div *ngIf="user" class="content">
          <img [src]="user.logo">
          <h4>{{user.name | titlecase}}</h4>
          <p class="mt-0">{{user.city}}({{user.postalCode}})</p>
          <p><i class="fas fa-globe"></i> {{user.website}} | <i class="fas fa-phone-alt"></i> {{user.telephone}}</p>
          <p class="blue">{{user.products.length}} produit(s) - Depuis {{user.createdAt | date:'yyyy'}}</p>
        </div>
      </div>
      <div id="business-products" class="col-12 col-md-8 mt-4">
        <div class="products">
          <a [routerLink]="['/produits', product._id]" id="card-href" class="business-card"
            *ngFor="let product of user.products">
            <div class="card-div">
              <div id="business-card" class="card-box position-relative">
                <img id="card-img-business" [src]="product.images[0]" alt="Card image cap">
                <div class="card-body">
                  <h5 class="card-title">{{product.title}}</h5>
                  <p class="card-price">
                    {{product.quantity === 1 ? product.quantity + ' unité' : product.quantity + ' unités' }}
                  </p>
                  <p id="business-card" class="card-text">{{product.description}}</p>
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>
</div>